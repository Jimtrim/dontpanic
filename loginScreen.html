<html>
<head>
<title>
Login page
</title>
</head>
<body align="center">
<h1 Ms;text-align="center";font-size:20pt;>
Login to dont panic
</h1>

<form name="login">

Username: <input type="text" name="userid"/><p>
Password: <input type="password" name="pswrd"/><p>

<input type="button" onclick="checkPassword(this.form)" value="Login"/>
<input type="reset" value="Cancel"/>
</form>

<script language="javascript" src="http://crypto-js.googlecode.com/svn/tags/3.1.2/build/rollups/aes.js"></script>
<script language="javascript" src="http://chengxianga2008.github.com/node-cryptojs-aes/client/aes.js"></script>
<script language="javascript" src="http://chengxianga2008.github.com/node-cryptojs-aes/client/jsonformatter.js"></script>
<script>

function checkPassword(form) {
	document.write("asd");
	var crypto = require('crypto');
	document.write("asd");

	var CryptoJS = node_cryptojs.CryptoJS;
	document.write("asd");

	var JsonFormatter = node_cryptojs.JsonFormatter;
	document.write("asd");

	var encrypted = CryptoJS.AES.encrypt(form.password, r_pass_base64, { format: JsonFormatter });
	document.write("asd");

	var encrypted_json_str = encrypted.toString();

	document.write(encrypted_json_str);						//m√• lage kall til database her
	/*var userPwEncrypted = CryptoJS.AES.encrypt(form.password, "123");
	var encrypted = CryptoJS.AES.encrypt(form.password, "Secret Passphrase");
	document.write(decrypted);
	if (userPwEncrypted === encrypted database.get.form.username.password) {
		console.log("Riktig pw!");
		window.open('index.html');
	}
		
	else {
		console.log("Feil passord eller brukernavn!");		
	}
	*/
}
</script>
</body>
</html>